<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gemini Response</title>
    <style>
        #response {
            white-space: pre-wrap;
            /* Ensures the response text formats correctly */
            margin-top: 20px;
        }
    </style>
</head>

<body>
    <form id="userInputForm" method="POST">
        <input type="text" name="userInput" placeholder="Enter your text" required>
        <button type="submit">Submit</button>
    </form>
    <div id="response"></div>

    <script>
        const API_KEY = 'API_KEY';  // Replace with your new API key
        const form = document.getElementById('userInputForm');
        const responseDiv = document.getElementById('response');

        form.addEventListener('submit', (event) => {
            event.preventDefault();
            const formData = new FormData(form);
            const userInput = formData.get('userInput');

            fetch('https://generativelanguage.googleapis.com/v1/models/gemini-pro:generateContent', {
                method: 'POST',
                body: JSON.stringify({
                    contents: [
                        {
                            role: 'user',
                            parts: [
                                { text: userInput }
                            ]
                        }
                    ]
                }),
                headers: {
                    'Content-Type': 'application/json',
                    'x-goog-api-key': API_KEY
                }
            })
                .then(response => response.json())
                .then(data => {
                    // Extract the response text
                    const responseText = data.candidates[0].content.parts[0].text;
                    responseDiv.textContent = responseText;
                })
                .catch(error => {
                    console.error('Error fetching data:', error);
                    responseDiv.textContent = 'An error occurred';
                });
        });
    </script>
</body>

</html>